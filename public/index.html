<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ROYAL BINGO</title>
    <link rel="stylesheet" href="style.css"> 
</head>
<body>
    <div class="main-wrapper">
        <!-- Universal Global Header -->
        <div class="global-header">
            <div class="header-content">
                <div style="display: flex; align-items: center;">
                    <button id="global-back-btn" class="back-button" style="display: none;">‚Üê</button>
                    <div class="header-logo">ROYAL BINGO</div>
                </div>
                <div class="header-menu-trigger" id="menu-trigger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <!-- Side Menu -->
            <div id="side-menu" class="side-menu">
                <div class="menu-header">
                    <span class="close-menu" id="close-menu">&times;</span>
                </div>
                <div class="menu-items">
                    <div class="menu-item" data-target="home">
                        <span class="menu-icon">üè†</span>
                        <span class="menu-text">HOME</span>
                    </div>
                    <div class="menu-item" data-target="profile">
                        <span class="menu-icon">üë§</span>
                        <span class="menu-text">PROFILE</span>
                    </div>
                    <div class="menu-item" data-target="wallet">
                        <span class="menu-icon">üí∞</span>
                        <span class="menu-text">WALLET</span>
                    </div>
                    <div class="menu-item" id="referral-menu-item" data-target="referral">
                        <span class="menu-icon">üéÅ</span>
                        <span class="menu-text">REFERRAL</span>
                    </div>
                    <div class="menu-item" id="logout-menu-item">
                        <span class="menu-icon">üö™</span>
                        <span class="menu-text">LOGOUT</span>
                    </div>
                    <div class="menu-item" id="admin-menu-item" style="display: none;" data-target="admin">
                        <span class="menu-icon">‚öôÔ∏è</span>
                        <span class="menu-text">ADMIN PANEL</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Access Prompt Modal -->
        <div id="admin-prompt-modal" class="card-preview-modal" style="display: none;">
            <div class="welcome-box" style="padding: 20px; max-width: 320px;">
                <h2 style="color: var(--color-primary);">Admin Verification</h2>
                <p style="margin-bottom: 20px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ä•·â£·ä≠·ãé ·ã®·ä†·ãµ·àö·äï ·àò·àà·ã´ ·âÅ·å•·à≠·ãé·äï (Chat ID) ·ã´·àµ·åà·â°</p>
                <input type="password" id="admin-chat-id-input" placeholder="Admin Chat ID" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; text-align: center; outline: none; margin-bottom: 20px;">
                <div style="display: flex; gap: 10px; width: 100%;">
                    <button id="admin-prompt-cancel" class="play-btn" style="background: rgba(255,255,255,0.1); font-size: 0.9em;">·â∞·àò·àà·àµ</button>
                    <button id="admin-prompt-submit" class="play-btn" style="font-size: 0.9em;">·åç·â£</button>
                </div>
            </div>
        </div>
        
        <div id="landing-screen">
            <div class="welcome-box">
                <h1>·ä•·äï·ä≥·äï ·ã∞·àÖ·äì ·àò·å°</h1>
                <h2>·ãà·ã∞ ROYAL BINGO</h2>
                
                <div class="registration-guide" style="margin-bottom: 15px; padding: 12px; background: rgba(168, 85, 247, 0.1); border-radius: 15px; border: 1px dashed var(--color-purple); font-size: 0.85em;">
                    <a href="https://t.me/RoyalBingoVV2_bot" target="_blank" class="tg-join-btn" style="display: block; margin: 0 auto 10px auto; padding: 10px 15px; background: #0088cc; color: white; text-decoration: none; border-radius: 12px; font-weight: bold; font-size: 0.95em; text-align: center; box-shadow: 0 4px 12px rgba(0, 136, 204, 0.3);">
                        üì¢ ·â¶·â±·äï ·ã≠·âÄ·àã·âÄ·àâ (Bot)
                    </a>
                    <a href="https://t.me/RoyalBingoPro" target="_blank" class="tg-join-btn" style="display: block; margin: 0 auto 10px auto; padding: 10px 15px; background: #22c55e; color: white; text-decoration: none; border-radius: 12px; font-weight: bold; font-size: 0.95em; text-align: center; box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);">
                        üì∞ ·äí·ãç·àµ ·âª·äì·àç (News)
                    </a>
                    <p style="line-height: 1.4; color: #fff; text-align: center; margin: 5px 0;">
                        ·ã®·ä¶·â≤·çí (OTP) ·äÆ·ãµ ·àà·àõ·åç·äò·âµ ·â†·âÖ·ãµ·àö·ã´ ·ã®·â¥·àå·åç·à´·àù ·â¶·â≥·âΩ·äï·äï ·ã≠·âÄ·àã·âÄ·àâ·ç°·ç°
                    </p>
                    <p style="font-size: 0.9em; margin-top: 5px; color: rgba(255,255,255,0.7); text-align: center;">
                        ·â¶·â±·äï ·â∞·âÄ·àã·âÖ·àà·ãç ·ãà·ã∞·ãö·àÖ ·â†·àò·àò·àà·àµ ·àù·ãù·åà·â£·ãé·äï ·àõ·å†·äì·âÄ·âÖ ·ã≠·âΩ·àã·àâ·ç°·ç°
                    </p>
                </div>

                <div class="auth-buttons" style="margin-top: 10px;">
                    <button id="get-started-btn" class="play-btn" onclick="handleGetStartedFallback()">·ã≠·åÄ·àù·à©</button>
                    <button onclick="showScreen('auth-screen')" class="back-link" style="margin-top: 10px; background: none; border: none; color: rgba(255,255,255,0.7); cursor: pointer; text-decoration: underline; font-size: 0.9em; width: 100%;">·àé·åä·äï (Login)</button>
                </div>
            </div>
        </div>

        <script>
            function handleGetStartedFallback() {
                console.log('Fallback Get Started Clicked');
                const token = localStorage.getItem('bingo_token');
                if (token) {
                    if (typeof showScreen === 'function') showScreen('stake-screen');
                    else document.getElementById('stake-screen').style.display = 'flex';
                } else {
                    if (typeof showScreen === 'function') showScreen('register-screen');
                    else document.getElementById('register-screen').style.display = 'flex';
                }
            }
        </script>

        <div id="auth-screen" style="display: none;">
            <div class="welcome-box">
                <button class="screen-back-btn" onclick="showScreen('landing-screen')">‚Üê ·â∞·àò·àà·àµ</button>
                <h1>·àò·åç·â¢·ã´ (Login)</h1>
                <div class="auth-form" style="text-align: left; margin-top: 20px;">
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">Telegram ID</label>
                        <input type="number" id="login-telegram-id" placeholder="·ã®·â¥·àå·åç·à´·àù ·ä†·ã≠·ã≤ ·ã´·àµ·åà·â°" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; outline: none;">
                    </div>
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ã®·ã≠·àà·çç ·âÉ·àç (Password)</label>
                        <input type="password" id="login-password" placeholder="·ã®·ã≠·àà·çç ·âÉ·àç ·ã´·àµ·åà·â°" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; outline: none;">
                    </div>
                    <button id="do-login-btn" class="play-btn">·ã≠·åç·â°</button>
                    <button onclick="showScreen('landing-screen')" class="back-link" style="width: 100%; margin-top: 15px; background: none; border: none; color: rgba(255,255,255,0.5); cursor: pointer; text-decoration: underline;">·â∞·àò·àà·àµ</button>
                </div>
            </div>
        </div>

        <div id="stake-screen" style="display: none;">
            <div class="welcome-box">
                <button class="screen-back-btn" onclick="showScreen('landing-screen')">‚Üê ·â∞·àò·àà·àµ</button>
                <h1>·ã®·ãç·à≠·à≠·ãµ ·àò·å†·äï</h1>
                <h2>·ä®·â≥·âΩ ·ä´·àâ·âµ ·àù·à≠·å´·ãé·âΩ ·ä†·äï·ã±·äï ·ã≠·àù·à®·å°</h2>
                
                <div class="stake-selection">
                    <p>·ã®·ãç·à≠·à≠·ãµ ·àò·å†·äï ·ã≠·àù·à®·å°</p>
                    <button class="stake-btn active-stake" data-stake="10">Stake 10</button>
                    <button class="stake-btn soon" data-stake="20" disabled>Stake 20</button>
                    <button class="stake-btn soon" data-stake="50" disabled>Stake 50</button>
                </div>

                <div class="auth-buttons" style="margin-top: 20px;">
                    <button id="start-game-btn" class="play-btn" onclick="handleStartGameFallback()">‚ñ∂Ô∏è ·ä†·àÅ·äë·äë ·ã≠·å´·ãà·â±</button>
                    <button id="back-to-landing-btn" class="back-link" style="margin-top: 15px; background: none; border: none; color: rgba(255,255,255,0.5); cursor: pointer; text-decoration: underline;">·â∞·àò·àà·àµ</button>
                </div>
            </div>
        </div>

        <script>
            function handleStartGameFallback() {
                console.log('Fallback Start Game Clicked');
                if (typeof showSelectionScreen === 'function') {
                    showSelectionScreen();
                    initWebSocket();
                } else {
                    document.getElementById('stake-screen').style.display = 'none';
                    document.getElementById('selection-screen').style.display = 'flex';
                }
            }
        </script>

        <div id="register-screen" style="display: none;">
            <div class="welcome-box">
                <button class="screen-back-btn" onclick="showScreen('landing-screen')">‚Üê ·â∞·àò·àà·àµ</button>
                <h1>·àù·ãù·åà·â£</h1>
                <div class="auth-form" style="text-align: left; margin-top: 20px;">
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·àô·àâ ·àµ·àù</label>
                        <input type="text" id="reg-name" placeholder="·àµ·àù·ãé·äï ·ã´·àµ·åà·â°" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; outline: none;">
                    </div>
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">Telegram ID</label>
                        <input type="number" id="reg-telegram-id" placeholder="·ã®·â¥·àå·åç·à´·àù ·ä†·ã≠·ã≤ ·ã´·àµ·åà·â°" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; outline: none;">
                    </div>
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ã®·ã≠·àà·çç ·âÉ·àç (Password)</label>
                        <input type="password" id="reg-password" placeholder="·ã®·ã≠·àà·çç ·âÉ·àç ·ã´·àµ·åà·â°" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; outline: none;">
                    </div>
                    <button id="do-register-btn" class="play-btn">·ã≠·àò·ãù·åà·â°</button>
                    <button onclick="showScreen('landing-screen')" class="back-link" style="width: 100%; margin-top: 15px; background: none; border: none; color: rgba(255,255,255,0.5); cursor: pointer; text-decoration: underline;">·â∞·àò·àà·àµ</button>
                </div>
            </div>
        </div>

        <div id="otp-screen" style="display: none;">
            <div class="welcome-box">
                <button class="screen-back-btn" onclick="showScreen('register-screen')">‚Üê ·â∞·àò·àà·àµ</button>
                <h1>·àõ·à®·åã·åà·å´</h1>
                <p style="margin-bottom: 20px; color: rgba(255,255,255,0.7);">·ä•·â£·ä≠·ãé ·ãà·ã∞ ·â¥·àå·åç·à´·àù ·â¶·â± ·ã®·â∞·àã·ä®·ãç·äï ·ã® 6 ·ã≤·åÇ·âµ ·äÆ·ãµ ·ã´·àµ·åà·â°</p>
                <div class="auth-form">
                    <input type="text" id="otp-input" maxlength="6" placeholder="******" style="width: 100%; padding: 15px; border-radius: 15px; border: 2px solid var(--color-purple); background: rgba(0,0,0,0.3); color: white; text-align: center; font-size: 1.5em; letter-spacing: 5px; outline: none; margin-bottom: 20px;">
                    <button id="verify-otp-btn" class="play-btn">·ä†·à®·åã·åç·å•</button>
                </div>
            </div>
        </div>

        <div id="selection-screen" style="display: none;">
            
            <div class="selection-status-bar">
                <div class="header-info">
                    <span class="label">Wallet</span>
                    <span class="value" id="main-wallet-value">0</span>
                </div>
                <div class="header-info">
                    <button id="refresh-cards-btn" class="refresh-action-btn" onclick="handleRefreshCards()">üîÑ</button>
                </div>
                <div class="header-info">
                    <span class="label">Stake</span>
                    <span class="value" id="current-stake">10</span>
                </div>
                <div class="header-info time-counter">
                    <span class="time-value" id="time-left">45s</span>
                </div>
            </div>

            <p class="selection-instruction">·ä´·à≠·ãµ ·âÅ·å•·à≠ ·ã≠·àù·à®·å° (1-100)</p>

            <div id="card-selection-grid" class="card-selection-grid">
            </div>
            
            <div id="confirmation-status" class="confirmation-status">·ä´·à≠·ãµ ·ã≠·àù·à®·å°</div>
            
            <p style="text-align: center; font-size: 0.8em; color: #ccc; margin-top: 10px;">·ä´·à≠·ãµ·ãé·äï ·àà·àò·àù·à®·å• ·åä·ãú·ãç ·ä•·ã®·àÆ·å† ·äê·ãç!</p>

            <div class="selection-footer">
                <div class="footer-btn active" data-target="game">Game</div>
                <div class="footer-btn" data-target="wallet">Wallet</div>
                <div class="footer-btn" data-target="leaderboard">Top</div>
                <div class="footer-btn" data-target="profile">Profile</div>
            </div>
            
        </div>

        <div id="card-preview-modal" class="card-preview-modal" style="display: none;">
            <div class="preview-modal-content">
                <h2 id="preview-card-title" class="preview-title">·ä´·à≠·ãµ #1</h2>
                
                <div class="preview-bingo-headers">
                    <div class="preview-header-circle b-header">B</div>
                    <div class="preview-header-circle i-header">I</div>
                    <div class="preview-header-circle n-header">N</div>
                    <div class="preview-header-circle g-header">G</div>
                    <div class="preview-header-circle o-header">O</div>
                </div>
                
                <div id="preview-card-grid" class="preview-card-grid">
                </div>
                
                <div class="preview-buttons">
                    <button id="preview-back-btn" class="preview-btn back-btn">·â∞·àò·àà·àµ</button>
                    <button id="preview-confirm-btn" class="preview-btn confirm-btn">·äÆ·äï·çà·à≠·àù</button>
                </div>
            </div>
        </div>

        <div id="profile-screen" style="display: none;">
            <div class="profile-container">
                <button class="screen-back-btn" onclick="showScreen('selection-screen')">‚Üê ·â∞·àò·àà·àµ</button>
                <div class="profile-card">
                    <div class="profile-card-header">
                        <div class="profile-avatar">
                            <div class="avatar-circle">
                                <span id="profile-avatar-letter">?</span>
                            </div>
                        </div>
                        <h2 id="profile-username-header">---</h2>
                        <p id="profile-id-sub">ID: ---</p>
                    </div>
                    
                    <div class="profile-stats-grid">
                        <div class="profile-stat-item">
                            <span class="stat-icon">üí∞</span>
                            <span class="stat-value" id="profile-balance">0.00 ETB</span>
                            <span class="stat-label">Total Balance</span>
                        </div>
                        <div class="profile-stat-item">
                            <span class="stat-icon">üì•</span>
                            <span class="stat-value" id="profile-deposit-balance" style="font-size: 0.8em;">0.00 ETB</span>
                            <span class="stat-label">Non-Withdrawable</span>
                        </div>
                        <div class="profile-stat-item">
                            <span class="stat-icon">üì§</span>
                            <span class="stat-value" id="profile-win-balance" style="font-size: 0.8em; color: var(--color-success);">0.00 ETB</span>
                            <span class="stat-label">Withdrawable (Wins)</span>
                        </div>
                        <div class="profile-stat-item">
                            <span class="stat-icon">üéÆ</span>
                            <span class="stat-value" id="profile-total-games">0</span>
                            <span class="stat-label">Games</span>
                        </div>
                        <div class="profile-stat-item">
                            <span class="stat-icon">üèÜ</span>
                            <span class="stat-value" id="profile-wins">0</span>
                            <span class="stat-label">Wins</span>
                        </div>
                    </div>

                    <div class="profile-details-list">
                        <div class="detail-item">
                            <span class="detail-label">Telegram ID</span>
                            <span class="detail-value" id="profile-telegram-id">---</span>
                        </div>
                    </div>
                    
                    <button class="profile-refresh-btn" id="profile-refresh-btn">
                        <span class="btn-icon">üîÑ</span> Refresh Profile
                    </button>
                </div>
            </div>
            
            <div class="selection-footer">
                <div class="footer-btn" data-target="game">Game</div>
                <div class="footer-btn" data-target="wallet">Wallet</div>
                <div class="footer-btn" data-target="leaderboard">Top</div>
                <div class="footer-btn active" data-target="profile">Profile</div>
            </div>
        </div>

        <div id="leaderboard-screen" style="display: none; padding-top: 60px;">
            <div class="welcome-box" style="max-width: 500px; margin: 0 auto;">
                <button class="screen-back-btn" onclick="showScreen('selection-screen')">‚Üê ·â∞·àò·àà·àµ</button>
                <h1 style="text-align: center; margin-bottom: 20px;">üèÜ ·àä·ã∞·à≠·â¶·à≠·ãµ</h1>
                
                <div class="leaderboard-tabs" style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <button id="tab-winners" class="leaderboard-tab active" onclick="switchLeaderboardTab('winners')">ü•á ·â•·ãô ·ä†·à∏·äì·çä·ãé·âΩ</button>
                    <button id="tab-earners" class="leaderboard-tab" onclick="switchLeaderboardTab('earners')">üí∞ ·â•·ãô ·åà·â¢</button>
                </div>
                
                <div id="leaderboard-list" class="leaderboard-list">
                    <div class="leaderboard-loading">·ä•·ã®·å´·äê ·äê·ãç...</div>
                </div>
            </div>
            
            <div class="selection-footer">
                <div class="footer-btn" data-target="game">Game</div>
                <div class="footer-btn" data-target="wallet">Wallet</div>
                <div class="footer-btn active" data-target="leaderboard">Top</div>
                <div class="footer-btn" data-target="profile">Profile</div>
            </div>
        </div>

        <div id="wallet-screen" style="display: none; padding-top: 60px;">
            <div class="wallet-container">
                <button class="screen-back-btn" onclick="showScreen('selection-screen')">‚Üê ·â∞·àò·àà·àµ</button>
                <div class="wallet-card">
                    <div class="wallet-header">
                        <span class="wallet-icon">üí≥</span>
                        <h2>Wallet Balance</h2>
                    </div>
                    <div class="wallet-balance-display">
                        <div class="balance-item">
                            <span class="currency">ETB</span>
                            <span id="wallet-balance-value" class="balance-amount">0.00</span>
                            <span class="balance-label">Total Balance</span>
                        </div>
                        <div class="balance-details" style="display: flex; justify-content: space-around; width: 100%; margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1);">
                            <div class="balance-sub-item">
                                <span id="wallet-deposit-value" style="color: var(--color-text); font-weight: bold;">0.00</span>
                                <span style="display: block; font-size: 0.7em; color: var(--color-text-dim);">Non-Withdrawable</span>
                            </div>
                            <div class="balance-sub-item">
                                <span id="wallet-win-value" style="color: var(--color-success); font-weight: bold;">0.00</span>
                                <span style="display: block; font-size: 0.7em; color: var(--color-text-dim);">Withdrawable (Wins)</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="wallet-actions">
                        <button class="wallet-action-btn deposit" onclick="showScreen('deposit-screen')">
                            <span class="btn-icon">‚ö°</span> Deposit
                        </button>
                        <button class="wallet-action-btn withdraw" onclick="showScreen('withdraw-screen')">
                            <span class="btn-icon">üí∏</span> Withdraw
                        </button>
                    </div>
                </div>

                <div class="transaction-section">
                    <h3>Recent Transactions</h3>
                    <div id="transaction-list" class="transaction-list">
                        <div class="no-transactions">No transactions yet</div>
                    </div>
                </div>
            </div>
            <div class="selection-footer">
                <div class="footer-btn" data-target="game">Game</div>
                <div class="footer-btn active" data-target="wallet">Wallet</div>
                <div class="footer-btn" data-target="profile">Profile</div>
            </div>
        </div>

        <div id="withdraw-screen" style="display: none; padding-top: 60px;">
            <div class="welcome-box">
                <button class="screen-back-btn" onclick="showScreen('wallet-screen')">‚Üê ·â∞·àò·àà·àµ</button>
                <h1>·åà·äï·ãò·â• ·àõ·ãç·å´ (Withdraw)</h1>
                <p style="margin-bottom: 20px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ä•·â£·ä≠·ãé ·àò·à®·åÉ·ãç·äï ·â†·âµ·ä≠·ä≠·àç ·ã≠·àô·àâ</p>
                
                <div class="auth-form" style="text-align: left;">
                    <div id="withdraw-requirements" style="margin-bottom: 20px; padding: 12px; background: rgba(239, 68, 68, 0.1); border-radius: 10px; border: 1px solid rgba(239, 68, 68, 0.2); font-size: 0.85em;">
                        <p style="margin: 0 0 5px 0; font-weight: bold; color: #ef4444;">·åà·äï·ãò·â• ·àà·àõ·ãç·å£·âµ ·àò·àµ·çà·à≠·â∂·âΩ:</p>
                        <ul style="margin: 0; padding-left: 20px; color: rgba(255,255,255,0.8);">
                            <li id="req-deposit">·â¢·ã´·äï·àµ 100 ·â•·à≠ ·ã≤·çñ·ãö·âµ ·àõ·ãµ·à®·åç (0/100)</li>
                            <li id="req-wins">·â¢·ã´·äï·àµ 2 ·åä·ãú ·àõ·à∏·äê·çç (0/2)</li>
                        </ul>
                    </div>
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ã®·â•·à≠ ·àò·å†·äï (Amount)</label>
                        <input type="number" id="withdraw-amount" placeholder="·àù·à≥·àå·ç° 100" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; outline: none;">
                    </div>
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ã®·ä≠·çç·ã´ ·àò·äï·åà·ãµ (Method)</label>
                        <select id="withdraw-method" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.8); color: white; outline: none;">
                            <option value="telebirr">Telebirr</option>
                            <option value="cbe">CBE Birr</option>
                            <option value="m-pesa" disabled>M-Pesa (Soon)</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ã®·ä†·ä´·ãç·äï·âµ ·ãù·à≠·ãù·à≠ (Account Name & Number)</label>
                        <textarea id="withdraw-details" placeholder="·ã®·ä†·ä´·ãç·äï·âµ ·àµ·àù ·ä•·äì ·âÅ·å•·à≠ ·ä•·ãö·àÖ ·ã´·àµ·åà·â°..." style="width: 100%; height: 80px; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; outline: none; resize: none;"></textarea>
                    </div>
                    <button id="submit-withdraw-btn" class="play-btn">·å•·ã´·âÑ·ãç·äï ·àã·ä≠</button>
                </div>

                <div style="margin-top: 25px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 12px; border: 1px dashed rgba(255,255,255,0.2);">
                    <p style="font-size: 0.8em; color: rgba(255,255,255,0.6); line-height: 1.5;">üí° ·ã®·ãä·ãù·ãµ·àÆ·ãç ·å•·ã´·âÑ·ãé·âΩ ·â†·ä†·ãµ·àö·äï ·â∞·à®·åã·åç·å†·ãç ·â† 24 ·à∞·ä†·âµ ·ãç·àµ·å• ·ã≠·àã·ä´·àâ·ç°·ç°</p>
                </div>
            </div>
        </div>

        <div id="deposit-screen" style="display: none; padding-top: 60px;">
            <div class="welcome-box">
                <button class="screen-back-btn" onclick="showScreen('wallet-screen')">‚Üê ·â∞·àò·àà·àµ</button>
                <h1>·åà·äï·ãò·â• ·àõ·àµ·åà·â¢·ã´ (Deposit)</h1>
                <p style="margin-bottom: 20px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ä•·â£·ä≠·ãé ·àò·à®·åÉ·ãç·äï ·â†·âµ·ä≠·ä≠·àç ·ã≠·àô·àâ</p>
                
                <div style="margin-top: 25px; padding: 15px; background: rgba(0, 136, 204, 0.1); border-radius: 12px; border: 1px dashed #0088cc;">
                    <p style="font-size: 0.9em; color: #fff; line-height: 1.6; text-align: center;">
                        ·ãà·ã∞·ãö·àÖ ·âÅ·å•·à≠ <strong style="color: #00c8ff; font-size: 1.2em;">0980682889</strong> ·â†·â¥·àå·â•·à≠ ·åà·â¢ ·ã´·ãµ·à≠·åâ·ç¢<br>
                        ·ä®·â¥·àå·â•·à≠ ·ã®·ã∞·à®·àµ·ãé·âµ·äï ·àô·àâ ·â¥·ä≠·àµ·âµ ·ä®·â≥·âΩ ·â£·àà·ãç ·à≥·å•·äï ·ã´·àµ·åà·â°·ç¢
                    </p>
                </div>

                <div class="auth-form" style="text-align: left; margin-top: 15px;">
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ã®·â•·à≠ ·àò·å†·äï (Amount)</label>
                        <input type="number" id="deposit-amount" placeholder="·â¢·ã´·äï·àµ 30 ·â•·à≠" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; outline: none;">
                    </div>
                    <div class="form-group" style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ã®·â¥·àå·â•·à≠ ·ä†·å≠·à≠ ·àò·àç·ä•·ä≠·âµ (Telebirr SMS)</label>
                        <textarea id="deposit-sms-text" placeholder="·ä®·â¥·àå·â•·à≠ ·ã®·ã∞·à®·àµ·ãé·âµ·äï ·àô·àâ ·àò·àç·ä•·ä≠·âµ ·ä•·ãö·àÖ ·ã≠·àà·å•·çâ..." style="width: 100%; height: 100px; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; outline: none; resize: none;"></textarea>
                    </div>
                    <div class="form-group" style="margin-bottom: 15px; display: none;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ã®·âµ·à´·äï·ãõ·ä≠·àΩ·äï ·àò·àà·ã´ (Transaction ID)</label>
                        <input type="text" id="deposit-tx-id" placeholder="·ä®·ä†·å≠·à≠ ·àò·àç·ä•·ä≠·âµ ·àã·ã≠ ·ã®·àö·åà·äù ·àò·àà·ã´" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.3); color: white; outline: none;">
                    </div>
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 5px; font-size: 0.9em; color: rgba(255,255,255,0.7);">·ã®·ä≠·çç·ã´ ·àò·äï·åà·ãµ (Method)</label>
                        <select id="deposit-method" style="width: 100%; padding: 12px; border-radius: 10px; border: 1px solid var(--color-glass-border); background: rgba(0,0,0,0.8); color: white; outline: none;">
                            <option value="telebirr">Telebirr</option>
                            <option value="cbe" disabled>CBE Birr (Soon)</option>
                            <option value="m-pesa" disabled>M-Pesa (Soon)</option>
                        </select>
                    </div>
                    <button id="submit-deposit-btn" class="play-btn">·å•·ã´·âÑ·ãç·äï ·àã·ä≠</button>
                </div>
            </div>
        </div>

        <!-- Custom Toast Notification -->
        <div id="custom-toast" class="custom-toast">
            <div class="toast-content">
                <span id="toast-message">Message here</span>
            </div>
        </div>

        <!-- Invite Modal -->
        <div id="invite-modal" class="invite-modal" style="display: none;">
            <div class="invite-modal-content">
                <button class="close-invite">&times;</button>
                <div class="invite-header">
                    <span class="invite-icon">üéÅ</span>
                    <h2>Invite & Earn</h2>
                    <p>Get 2 ETB for every friend you invite!</p>
                </div>
                <div class="invite-link-box">
                    <input type="text" id="invite-link-input" readonly value="https://t.me/RoyalBingoBot?start=123">
                    <button id="copy-invite-link" class="copy-btn">Copy</button>
                </div>
                <div class="invite-stats">
                    <div class="invite-stat">
                        <span class="val" id="total-referrals">0</span>
                        <span class="lab">Referrals</span>
                    </div>
                    <div class="invite-stat">
                        <span class="val" id="total-referral-earnings">0 ETB</span>
                        <span class="lab">Earned</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="game-screen" style="display: none;">
            
            <div class="game-stats-row">
                <div class="stat-box">
                    <span class="stat-label">·â∞·å´·ãã·âæ·âΩ (Players)</span>
                    <span class="stat-value" id="player-count">0</span>
                </div>
                <div class="stat-box highlight">
                    <span class="stat-label">·ã∞·à´·àΩ (Prize)</span>
                    <span class="stat-value success" id="prize-pool">0.00</span>
                </div>
                <div class="stat-box">
                    <span class="stat-label">·àò·ã∞·â• (Stake)</span>
                    <span class="stat-value" id="game-stake">10.00</span>
                </div>
                <div class="stat-box">
                    <span class="stat-label">Called</span>
                    <span class="stat-value" id="called-count">0/75</span>
                </div>
            </div>

            <div class="called-numbers-display">
                <div class="called-ball primary" id="last-called-ball">
                    <span id="last-letter">G</span><span id="last-number">60</span>
                </div>
                <div class="called-ball secondary" id="prev-called-1">I29</div>
                <div class="called-ball secondary" id="prev-called-2">B10</div>
            </div>

            <div class="game-main-content">
                <div class="master-grid-container">
                    <div class="grid-labels">
                        <span>B</span><span>I</span><span>N</span><span>G</span><span>O</span>
                    </div>
                    <div id="master-grid" class="game-master-grid">
                        <!-- Numbers 1-75 generated by JS -->
                    </div>
                </div>

                <div class="player-area">
                    <div class="active-tag">ACTIVE</div>
                    <div class="player-card-container">
                        <div class="grid-labels">
                            <span>B</span><span>I</span><span>N</span><span>G</span><span>O</span>
                        </div>
                        <div id="player-bingo-card" class="player-game-card">
                            <!-- Player card cells generated by JS -->
                        </div>
                        <div class="bingo-action-bar">
                            <button class="bingo-claim-btn" id="bingo-btn">BINGO</button>
                        </div>
                    </div>
                    <div class="game-status-box">
                        <p id="game-status-text">Wait For Next game...</p>
                    </div>
                </div>
            </div>

            <!-- Removed original bingo-action-bar -->
            
        </div>
        
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="card.js"></script>
    <script src="game.js"></script>
</body>
</html>
